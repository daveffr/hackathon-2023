<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Information Form</title>
  </head>
  <body>
    <script>
      fetch("userinfo.php", {
        method: 'POST',
        headers: { 'content-type': 'application/json' }
    }).then(response => response.json())
    .then(data => {
        
        document.body.innerHTML = 'Logged in as ' + data.username;
        const form = document.createElement('form');
        form.setAttribute('id', 'myForm');
        document.body.appendChild(form);

        // Create a form title
        const formTitle = document.createElement('h2');
        formTitle.textContent = 'Generic Form';
        form.appendChild(formTitle);

        // Create an input field for a text box
        const inputText = document.createElement('input');
        inputText.setAttribute('type', 'text');
        inputText.setAttribute('name', 'text-input');
        inputText.setAttribute('placeholder', 'Enter text');
        form.appendChild(inputText);

        // Create a submit button
        const submitButton = document.createElement('input');
        submitButton.setAttribute('type', 'submit');
        submitButton.setAttribute('value', 'Submit');
        form.appendChild(submitButton);

        // Event listener for form submission
        form.addEventListener('submit', function (e) {
            e.preventDefault();
            const formData = new FormData(form);
            alert('Submitted data: ' + formData.get('text-input'));
        });
    });
    </script>
  </body>
</html>
